<!DOCTYPE html>
<!-- saved from url=(0089)https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html -->
<html class="writer-html5" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basic Commands - ESP32-S3 -  — esptool.py latest documentation</title>
      <link rel="stylesheet" href="./Basic Commands - ESP32-S3 - — esptool.py latest documentation_files/pygments.css" type="text/css">
      <link rel="stylesheet" href="./Basic Commands - ESP32-S3 - — esptool.py latest documentation_files/theme.css" type="text/css">
      <link rel="stylesheet" href="./Basic Commands - ESP32-S3 - — esptool.py latest documentation_files/theme_overrides.css" type="text/css">
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="./Basic Commands - ESP32-S3 - — esptool.py latest documentation_files/documentation_options.js.download"></script>
        <script src="./Basic Commands - ESP32-S3 - — esptool.py latest documentation_files/jquery.js.download"></script>
        <script src="./Basic Commands - ESP32-S3 - — esptool.py latest documentation_files/underscore.js.download"></script>
        <script src="./Basic Commands - ESP32-S3 - — esptool.py latest documentation_files/doctools.js.download"></script>
    <script src="./Basic Commands - ESP32-S3 - — esptool.py latest documentation_files/theme.js.download"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'esptool/basic-commands';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esptool';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = '.././_static/esptool_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32s3';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp8266", "esp32", "esp32s2", "esp32s3", "esp32c3"]
        DOCUMENTATION_OPTIONS.RELEASE = 'latest';
    </script>

    <script type="text/javascript" src="./Basic Commands - ESP32-S3 - — esptool.py latest documentation_files/esptool_versions.js.download"></script>
    <link rel="author" title="About these documents" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/about.html">
    <link rel="index" title="Index" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/genindex.html">
    <link rel="search" title="Search" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/search.html">
    <link rel="next" title="Advanced Options" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-options.html">
    <link rel="prev" title="Basic Options" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-options.html"> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/index.html" class="icon icon-home"> esptool.py
            <img src="./Basic Commands - ESP32-S3 - — esptool.py latest documentation_files/espressif-logo.svg" class="logo" alt="Logo">
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;">
                <option value="" disabled="" selected="">Choose target...</option>
              <option value="esp8266">ESP8266</option><option value="esp32">ESP32</option><option value="esp32s2">ESP32-S2</option><option value="esp32s3">ESP32-S3</option><option value="esp32c3">ESP32-C3</option></select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden="">
              <option value="" disabled="" selected="">Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current" aria-expanded="true">
<li class="toctree-l1"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/installation.html">Installation</a></li>
<li class="toctree-l1 current" aria-expanded="true"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/index.html"><button class="toctree-expand" title="Open/close menu"></button>Esptool</a><ul class="" aria-expanded="false">
<li class="toctree-l2"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-options.html">Basic Options</a></li>
<li class="toctree-l2 current" aria-expanded="true"><a class="reference internal current" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#" aria-expanded="true"><button class="toctree-expand" title="Open/close menu"></button>Basic Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#write-binary-data-to-flash-write-flash"><button class="toctree-expand" title="Open/close menu"></button>Write Binary Data to Flash: write_flash</a><ul>
<li class="toctree-l4"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#setting-flash-mode-and-size">Setting Flash Mode and Size</a></li>
<li class="toctree-l4"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#compression">Compression</a></li>
<li class="toctree-l4"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#erasing-flash-before-write">Erasing Flash Before Write</a></li>
<li class="toctree-l4"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#bootloader-protection">Bootloader Protection</a></li>
<li class="toctree-l4"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#flashing-an-incompatible-image">Flashing an Incompatible Image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#read-flash-contents-read-flash">Read Flash Contents: read_flash</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#erase-flash-erase-flash-erase-region"><button class="toctree-expand" title="Open/close menu"></button>Erase Flash: erase_flash &amp; erase_region</a><ul>
<li class="toctree-l4"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#flash-protection">Flash Protection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#read-built-in-mac-address-read-mac">Read Built-in MAC Address: read_mac</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#read-spi-flash-id-flash-id">Read SPI Flash ID: flash_id</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#convert-elf-to-binary-elf2image">Convert ELF to Binary: elf2image</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#output-bin-image-details-image-info">Output .bin Image Details: image_info</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#merge-binaries-for-flashing-merge-bin">Merge Binaries for Flashing: merge_bin</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#advanced-commands">Advanced Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-options.html">Advanced Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-commands.html">Advanced Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/flasher-stub.html">Flasher Stub</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/flash-modes.html">Flash Modes</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/entering-bootloader.html">Entering the Bootloader</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/serial-connection.html">Serial Connection</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/remote-serial-ports.html">Remote Serial Ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/flashing-firmware.html">Flashing Firmware</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/scripting.html">Scripting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/espefuse/index.html">Espefuse</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/espsecure/index.html">Espsecure</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/advanced-topics/index.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/contributing.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/versions.html">Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/about.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/index.html">esptool.py</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/index.html" class="icon icon-home"></a> »</li>
          <li><a href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/index.html">esptool.py</a> »</li>
      <li>Basic Commands</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/espressif/esptool/blob/943b99766/docs/en/esptool/basic-commands.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="basic-commands">
<span id="commands"></span><h1>Basic Commands<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#basic-commands" title="Permalink to this headline"></a></h1>
<section id="write-binary-data-to-flash-write-flash">
<h2>Write Binary Data to Flash: write_flash<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#write-binary-data-to-flash-write-flash" title="Permalink to this headline"></a></h2>
<p>Binary data can be written to the ESP’s flash chip via the serial <code class="docutils literal notranslate"><span class="pre">write_flash</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">port</span> <span class="n">COM4</span> <span class="n">write_flash</span> <span class="mh">0x1000</span> <span class="n">my_app</span><span class="o">-</span><span class="mh">0x01000</span><span class="o">.</span><span class="n">bin</span>
</pre></div>
</div>
<p>Multiple flash addresses and file names can be given on the same command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">port</span> <span class="n">COM4</span> <span class="n">write_flash</span> <span class="mh">0x00000</span> <span class="n">my_app</span><span class="o">.</span><span class="n">elf</span><span class="o">-</span><span class="mh">0x00000</span><span class="o">.</span><span class="n">bin</span> <span class="mh">0x40000</span> <span class="n">my_app</span><span class="o">.</span><span class="n">elf</span><span class="o">-</span><span class="mh">0x40000</span><span class="o">.</span><span class="n">bin</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--chip</span></code> argument is optional when writing to flash, esptool will detect the type of chip when it connects to the serial port.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--port</span></code> argument is documented under <a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-options.html#serial-port"><span class="std std-ref">Serial Port</span></a>.</p>
<p>The next arguments to <code class="docutils literal notranslate"><span class="pre">write_flash</span></code> are one or more pairs of offset (address) and file name. Consult your SDK documentation to determine the files to flash at which offsets.</p>
<p>Numeric values passed to write_flash (and other commands) can be specified either in hex (ie 0x1000), or in decimal (ie 4096).</p>
<p>See the <a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/troubleshooting.html#troubleshooting"><span class="std std-ref">Troubleshooting</span></a> section if the <code class="docutils literal notranslate"><span class="pre">write_flash</span></code> command is failing, or the flashed module fails to boot.</p>
<section id="setting-flash-mode-and-size">
<h3>Setting Flash Mode and Size<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#setting-flash-mode-and-size" title="Permalink to this headline"></a></h3>
<p>You may also need to specify arguments for <a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/flash-modes.html#flash-modes"><span class="std std-ref">flash mode and flash size</span></a>, if you wish to override the defaults. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">port</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span> <span class="n">write_flash</span> <span class="o">--</span><span class="n">flash_mode</span> <span class="n">qio</span> <span class="o">--</span><span class="n">flash_size</span> <span class="mi">32</span><span class="n">m</span> <span class="mh">0x0</span> <span class="n">bootloader</span><span class="o">.</span><span class="n">bin</span> <span class="mh">0x1000</span> <span class="n">my_app</span><span class="o">.</span><span class="n">bin</span>
</pre></div>
</div>
<p>Since esptool v2.0, these options are not often needed as the default is to keep the flash mode and size from the <code class="docutils literal notranslate"><span class="pre">.bin</span></code> image file. See the <a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/flash-modes.html#flash-modes"><span class="std std-ref">Flash Modes</span></a> section for more details.</p>
</section>
<section id="compression">
<h3>Compression<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#compression" title="Permalink to this headline"></a></h3>
<p>By default, the serial transfer data is compressed for better performance. The <code class="docutils literal notranslate"><span class="pre">-u/--no-compress</span></code> option disables this behaviour.</p>
</section>
<section id="erasing-flash-before-write">
<h3>Erasing Flash Before Write<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#erasing-flash-before-write" title="Permalink to this headline"></a></h3>
<p>To successfully write data into flash, all 4096-byte memory sectors (the smallest erasable unit) affected by the operation have to be erased first. As a result, when the flashing offset address or the data are not 4096-byte aligned, more memory is erased than actually needed.
Esptool will display information about which flash memory sectors will be erased.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">-e/--erase-all</span></code> option to erase all flash sectors (not just the write areas) before programming.</p>
</section>
<section id="bootloader-protection">
<h3>Bootloader Protection<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#bootloader-protection" title="Permalink to this headline"></a></h3>
<p>Flashing into the bootloader region (<code class="docutils literal notranslate"><span class="pre">0x0</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">0x8000</span></code>) is disabled by default if active <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32s3/security/secure-boot-v2.html">Secure Boot</a> is detected.
This is a safety measure to prevent accidentally overwriting the secure bootloader, which <strong>can ultimately lead to bricking the device</strong>.</p>
<p>This behavior can be overridden with the <code class="docutils literal notranslate"><span class="pre">--force</span></code> option. <strong>Use this only at your own risk and only if you know what you are doing!</strong></p>
</section>
<section id="flashing-an-incompatible-image">
<h3>Flashing an Incompatible Image<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#flashing-an-incompatible-image" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">esptool.py</span></code> checks every binary before flashing. If a valid firmware image is detected, the <code class="docutils literal notranslate"><span class="pre">Chip</span> <span class="pre">ID</span></code> and <code class="docutils literal notranslate"><span class="pre">Minimum</span> <span class="pre">chip</span> <span class="pre">revision</span></code> fields in its <a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/advanced-topics/firmware-image-format.html#image-format"><span class="std std-ref">header</span></a> are compared against the actually connected chip.
If the image turns out to be incompatible with the chip in use or requires a newer chip revision, flashing is stopped.</p>
<p>This behavior can be overridden with the <code class="docutils literal notranslate"><span class="pre">--force</span></code> option.</p>
</section>
</section>
<section id="read-flash-contents-read-flash">
<h2>Read Flash Contents: read_flash<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#read-flash-contents-read-flash" title="Permalink to this headline"></a></h2>
<p>The read_flash command allows reading back the contents of flash. The arguments to the command are an address, a size, and a filename to dump the output to. For example, to read a full 2MB of attached flash:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">p</span> <span class="n">PORT</span> <span class="o">-</span><span class="n">b</span> <span class="mi">460800</span> <span class="n">read_flash</span> <span class="mi">0</span> <span class="mh">0x200000</span> <span class="n">flash_contents</span><span class="o">.</span><span class="n">bin</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">write_flash</span></code> updated the boot image’s <a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/flash-modes.html#flash-modes"><span class="std std-ref">flash mode and flash size</span></a> during flashing then these bytes may be different when read back.</p>
</div>
</section>
<section id="erase-flash-erase-flash-erase-region">
<span id="erase-flash"></span><h2>Erase Flash: erase_flash &amp; erase_region<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#erase-flash-erase-flash-erase-region" title="Permalink to this headline"></a></h2>
<p>To erase the entire flash chip (all data replaced with 0xFF bytes):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="n">erase_flash</span>
</pre></div>
</div>
<p>To erase a region of the flash, starting at address 0x20000 with length 0x4000 bytes (16KB):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="n">erase_region</span> <span class="mh">0x20000</span> <span class="mh">0x4000</span>
</pre></div>
</div>
<p>The address and length must both be multiples of the SPI flash erase sector size. This is 0x1000 (4096) bytes for supported flash chips.</p>
<section id="flash-protection">
<h3>Flash Protection<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#flash-protection" title="Permalink to this headline"></a></h3>
<p>Erasing the flash chip is disabled by default if either active <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32s3/security/secure-boot-v2.html">Secure Boot</a> or
<a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32s3/security/flash-encryption.html">Flash Encryption</a> is detected.
This is a safety measure to prevent accidentally deleting the secure bootloader or encrypted data, which <strong>can ultimately lead to bricking the device</strong>.</p>
<p>This behavior can be overridden with the <code class="docutils literal notranslate"><span class="pre">--force</span></code> option. <strong>Use this only at your own risk and only if you know what you are doing!</strong></p>
</section>
</section>
<section id="read-built-in-mac-address-read-mac">
<h2>Read Built-in MAC Address: read_mac<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#read-built-in-mac-address-read-mac" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="n">read_mac</span>
</pre></div>
</div>
</section>
<section id="read-spi-flash-id-flash-id">
<span id="read-spi-flash-id"></span><h2>Read SPI Flash ID: flash_id<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#read-spi-flash-id-flash-id" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="n">flash_id</span>
</pre></div>
</div>
<p>Example output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Manufacturer</span><span class="p">:</span> <span class="n">e0</span>
<span class="n">Device</span><span class="p">:</span> <span class="mi">4016</span>
<span class="n">Detected</span> <span class="n">flash</span> <span class="n">size</span><span class="p">:</span> <span class="mi">4</span><span class="n">MB</span>
</pre></div>
</div>
<p>Refer to <a class="reference external" href="https://review.coreboot.org/plugins/gitiles/flashrom/+/refs/heads/master/flashchips.h">flashrom source code</a> for flash chip manufacturer name and part number.</p>
</section>
<section id="convert-elf-to-binary-elf2image">
<span id="elf-2-image"></span><h2>Convert ELF to Binary: elf2image<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#convert-elf-to-binary-elf2image" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">elf2image</span></code> command converts an ELF file (from compiler/linker output) into the binary executable images which can be flashed and then booted into:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">chip</span> <span class="n">ESP32</span><span class="o">-</span><span class="n">S3</span> <span class="n">elf2image</span> <span class="n">my_app</span><span class="o">.</span><span class="n">elf</span>
</pre></div>
</div>
<p>This command does not require a serial connection.</p>
<p><code class="docutils literal notranslate"><span class="pre">elf2image</span></code> also accepts the <a class="reference external" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#flash-modes">Flash Modes</a> arguments <code class="docutils literal notranslate"><span class="pre">--flash_freq</span></code> and <code class="docutils literal notranslate"><span class="pre">--flash_mode</span></code>, which can be used to set the default values in the image header. This is important when generating any image which will be booted directly by the chip.
These values can also be overwritten via the <code class="docutils literal notranslate"><span class="pre">write_flash</span></code> command, see the <a class="reference external" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#write-binary-data-to-flash-write-flash">write_flash command</a> for details. However, if you want to overwrite these values via the <code class="docutils literal notranslate"><span class="pre">write_flash</span></code> command then use the <code class="docutils literal notranslate"><span class="pre">--dont-append-digest</span></code> argument of the <code class="docutils literal notranslate"><span class="pre">elf2image</span></code> command in order to skip appending a SHA256 digest after the image. The SHA256 digest would be invalidated by rewriting the image header, therefore, it is not allowed.</p>
<p>By default, <code class="docutils literal notranslate"><span class="pre">elf2image</span></code> uses the sections in the ELF file to generate each segment in the binary executable. To use segments (PHDRs) instead, pass the <code class="docutils literal notranslate"><span class="pre">--use_segments</span></code> option.</p>
<p>For ESP32-S3, elf2image produces a single output binary “image file”. By default this has the same name as the .elf file, with a .bin extension. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">chip</span> <span class="n">ESP32</span><span class="o">-</span><span class="n">S3</span> <span class="n">elf2image</span> <span class="n">my_esp_app</span><span class="o">.</span><span class="n">elf</span>
</pre></div>
</div>
<p>In the above example, the output image file would be called <code class="docutils literal notranslate"><span class="pre">my_esp_app.bin</span></code>.</p>
</section>
<section id="output-bin-image-details-image-info">
<span id="image-info"></span><h2>Output .bin Image Details: image_info<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#output-bin-image-details-image-info" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">image_info</span></code> command outputs some information (load addresses, sizes, etc) about a <code class="docutils literal notranslate"><span class="pre">.bin</span></code> file created by <code class="docutils literal notranslate"><span class="pre">elf2image</span></code>.</p>
<p>To view more information about the image, such as set flash size, frequency and mode, or extended header information, use the <code class="docutils literal notranslate"><span class="pre">--version</span> <span class="pre">2</span></code> option. This extended output will become the default in a future major release.</p>
<p>This information corresponds to the headers described in <a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/advanced-topics/firmware-image-format.html#image-format"><span class="std std-ref">Firmware Image Format</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="n">image_info</span> <span class="o">--</span><span class="n">version</span> <span class="mi">2</span> <span class="n">my_esp_app</span><span class="o">.</span><span class="n">bin</span>
</pre></div>
</div>
<p>If a valid <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/api-reference/system/app_image_format.html#application-description">ESP-IDF application header</a> is detected in the image, specific fields describing the application are also displayed.</p>
</section>
<section id="merge-binaries-for-flashing-merge-bin">
<span id="merge-bin"></span><h2>Merge Binaries for Flashing: merge_bin<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#merge-binaries-for-flashing-merge-bin" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">merge_bin</span></code> command will merge multiple binary files (of any kind) into a single file that can be flashed to a device later. Any gaps between the input files are padded with 0xFF bytes (same as unwritten flash contents).</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">chip</span> <span class="n">ESP32</span><span class="o">-</span><span class="n">S3</span> <span class="n">merge_bin</span> <span class="o">-</span><span class="n">o</span> <span class="n">merged</span><span class="o">-</span><span class="n">flash</span><span class="o">.</span><span class="n">bin</span> <span class="o">--</span><span class="n">flash_mode</span> <span class="n">dio</span> <span class="o">--</span><span class="n">flash_size</span> <span class="mi">4</span><span class="n">MB</span> <span class="mh">0x1000</span> <span class="n">bootloader</span><span class="o">.</span><span class="n">bin</span> <span class="mh">0x8000</span> <span class="n">partition</span><span class="o">-</span><span class="n">table</span><span class="o">.</span><span class="n">bin</span> <span class="mh">0x10000</span> <span class="n">app</span><span class="o">.</span><span class="n">bin</span>
</pre></div>
</div>
<p>Will create a file <code class="docutils literal notranslate"><span class="pre">merged-flash.bin</span></code> with the contents of the other 3 files. This file can be later be written to flash with <code class="docutils literal notranslate"><span class="pre">esptool.py</span> <span class="pre">write_flash</span> <span class="pre">0x0</span> <span class="pre">merged-flash.bin</span></code>.</p>
<p><strong>Options:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">merge_bin</span></code> command supports the same <code class="docutils literal notranslate"><span class="pre">--flash_mode</span></code>, <code class="docutils literal notranslate"><span class="pre">--flash_size</span></code> and <code class="docutils literal notranslate"><span class="pre">--flash_freq</span></code> options as the <code class="docutils literal notranslate"><span class="pre">write_flash</span></code> command to override the bootloader flash header (see above for details).
These options are applied to the output file contents in the same way as when writing to flash. Make sure to pass the <code class="docutils literal notranslate"><span class="pre">--chip</span></code> parameter if using these options, as the supported values and the bootloader offset both depend on the chip.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--target-offset</span> <span class="pre">0xNNN</span></code> option will create a merged binary that should be flashed at the specified offset, instead of at offset 0x0.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--fill-flash-size</span> <span class="pre">SIZE</span></code> option will pad the merged binary with 0xFF bytes to the full flash specified size, for example <code class="docutils literal notranslate"><span class="pre">--fill-flash-size</span> <span class="pre">4MB</span></code> will create a 4MB binary file.</p></li>
<li><p>It is possible to append options from a text file with <code class="docutils literal notranslate"><span class="pre">@filename</span></code>. As an example, this can be conveniently used with the ESP-IDF build system, which produces a <code class="docutils literal notranslate"><span class="pre">flash_args</span></code> file in the build directory of a project:</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build    <span class="c1"># The build directory of an ESP-IDF project</span>
esptool.py --chip ESP32-S3 merge_bin -o merged-flash.bin @flash_args
</pre></div>
</div>
</section>
<section id="advanced-commands">
<h2>Advanced Commands<a class="headerlink" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#advanced-commands" title="Permalink to this headline"></a></h2>
<p>The following commands are less commonly used, or only of interest to advanced users. They are documented in the <a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-commands.html#advanced-commands"><span class="std std-ref">Advanced Commands</span></a> section:</p>
<p></p><ul class="simple">
<li><p><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-commands.html#verify-flash"><span class="std std-ref">Verify Flash Data: verify_flash</span></a></p></li>
<li><p><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-commands.html#dump-mem"><span class="std std-ref">Dump a Memory Region to File: dump_mem</span></a></p></li>
<li><p><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-commands.html#load-ram"><span class="std std-ref">Load a Binary to RAM: load_ram</span></a></p></li>
<li><p><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-commands.html#read-mem-write-mem"><span class="std std-ref">Read or Write RAM: read_mem / write_mem</span></a></p></li>
<li><p><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-commands.html#read-flash-status"><span class="std std-ref">Read Flash Chip Registers: read_flash_status</span></a></p></li>
<li><p><a class="reference internal" href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-commands.html#write-flash-status"><span class="std std-ref">Write Flash Chip Registers: write_flash_status</span></a></p></li>
</ul>
<p></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-options.html" class="btn btn-neutral float-left" title="Basic Options" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/advanced-options.html" class="btn btn-neutral float-right" title="Advanced Options" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr>

  <div role="contentinfo">
    <p>© Copyright 2016 - 2022, Espressif Systems (Shanghai) Co., Ltd.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 


</body></html>